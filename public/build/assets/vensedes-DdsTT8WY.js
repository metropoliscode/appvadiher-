import{r as d,j as e,L as N}from"./app-BezMx6Yg.js";import{A as b}from"./app-layout-CcYk1XwA.js";import{T as a,a as l,b as s,c as n,d as g,e as t}from"./table-D8UFsDB7.js";import{S,a as T,b as F,c as V,d as y,f as P,e as j}from"./select-3sYlDCOF.js";import{d as C}from"./index-N9Wo3_AG.js";import"./app-logo-icon-tjY2ApU_.js";import"./vadiher-CxvhmT4V.js";import"./index-BVbG2WsP.js";import"./index-Bv9mkpsH.js";import"./i18n-BydKRAa4.js";import"./index-Dw4rBN8m.js";const L=[{title:"Venta Diaria",href:"/ventas"}],i=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0});function G({ventas:h,almacen:o,periodos:m}){const[c,u]=d.useState(""),[x,f]=d.useState(c);d.useEffect(()=>{const r=setTimeout(()=>{f(c)},500);return()=>clearTimeout(r)},[c]),d.useEffect(()=>{x&&C.Inertia.get("/venta-sede",{periodo:x},{preserveState:!0,replace:!0})},[x]);const p=r=>{u(r)};return e.jsxs(b,{breadcrumbs:L,children:[e.jsx(N,{title:"Venta Diaria"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(S,{value:String(c),onValueChange:p,children:[e.jsx(T,{className:"w-[300px]",children:e.jsx(F,{placeholder:"Seleccione un Periodo"})}),e.jsx(V,{children:e.jsxs(y,{children:[e.jsx(P,{children:"Periodos"}),e.jsx(j,{value:"0",children:"Todos"}),m.map(r=>e.jsxs(j,{value:r.period,children:[" ",r.period," "]},r.id))]})})]})}),e.jsx("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border md:min-h-min",children:e.jsxs(a,{children:[e.jsx(l,{className:"bg-amber-200 text-blue-600",children:e.jsxs(s,{children:[e.jsx(n,{className:"text-left",children:"#"}),e.jsx(n,{colSpan:2,className:"text-center",children:"Fecha"}),o.map(r=>e.jsxs(n,{className:"text-right",children:[r.nomalm," "]},r.id)),e.jsx(n,{className:"text-right",children:"VALOR TOTAL"})]})}),e.jsx(g,{children:h.length?h.map((r,_)=>e.jsxs(s,{children:[e.jsx(t,{className:"text-left",children:++_}),e.jsx(t,{className:"text-left",children:r.fecope}),e.jsx(t,{className:"text-left",children:e.jsx(a,{children:e.jsxs(l,{children:[e.jsx(s,{children:e.jsx(n,{className:"text-center text-red-900",children:"Venta"})}),e.jsx(s,{children:e.jsx(n,{className:"text-center  text-red-900",children:"Uttilidad"})}),e.jsx(s,{children:e.jsx(n,{className:"text-center  text-red-900",children:"Rentabilidad"})})]})})}),e.jsx(t,{className:"text-right",children:e.jsx(a,{children:e.jsxs(l,{children:[e.jsx(s,{children:e.jsx(t,{children:i.format(r.venta_metropolis)})}),e.jsx(s,{children:e.jsx(t,{children:i.format(r.utilid_metropolis)})}),e.jsx(s,{children:e.jsx(t,{className:r.utilid_metropolis/r.venta_metropolis*100>25?"text-green-900":"text-red-900",children:r.venta_metropolis==0?"0.00 %":`${(r.utilid_metropolis/r.venta_metropolis*100).toFixed(2)} %`})})]})})}),e.jsx(t,{className:"text-right",children:e.jsx(a,{children:e.jsxs(l,{children:[e.jsx(s,{children:e.jsx(t,{children:i.format(r.venta_distrimetro)})}),e.jsx(s,{children:e.jsx(t,{children:i.format(r.utilid_distrimetro)})}),e.jsx(s,{children:e.jsx(t,{className:r.utilid_distrimetro/r.venta_distrimetro*100>25?"text-green-900":"text-red-900",children:r.venta_distrimetro==0?"0.00 %":`${(r.utilid_distrimetro/r.venta_distrimetro*100).toFixed(2)} %`})})]})})}),e.jsx(t,{className:"text-right",children:e.jsx(a,{children:e.jsxs(l,{children:[e.jsx(s,{children:e.jsx(t,{children:i.format(r.venta_ferrecasas)})}),e.jsx(s,{children:e.jsx(t,{children:i.format(r.utilid_ferrecasas)})}),e.jsx(s,{children:e.jsx(t,{className:r.utilid_ferrecasas/r.venta_ferrecasas*100>25?"text-green-900":"text-red-900",children:r.venta_ferrecasas==0?"0.00 %":`${(r.utilid_ferrecasas/r.venta_ferrecasas*100).toFixed(2)} %`})})]})})}),e.jsx(t,{className:"text-right",children:e.jsx(a,{children:e.jsxs(l,{children:[e.jsx(s,{children:e.jsx(t,{children:i.format(r.venta_troncal)})}),e.jsx(s,{children:e.jsx(t,{children:i.format(r.utilid_troncal)})}),e.jsx(s,{children:e.jsx(t,{className:r.utilid_troncal/r.venta_troncal*100>25?"text-green-900":"text-red-900",children:r.venta_troncal==0?"0.00 %":`${(r.utilid_troncal/r.venta_troncal*100).toFixed(2)} %`})})]})})}),e.jsx(t,{className:"text-right",children:e.jsx(a,{children:e.jsxs(l,{children:[e.jsx(s,{children:e.jsx(t,{children:i.format(r.venta_minca)})}),e.jsx(s,{children:e.jsx(t,{children:i.format(r.utilid_minca)})}),e.jsx(s,{children:e.jsx(t,{className:r.utilid_minca/r.venta_minca*100>25?"text-green-900":"text-red-900",children:r.venta_minca==0?"0.00 %":`${(r.utilid_minca/r.venta_minca*100).toFixed(2)} %`})})]})})}),e.jsx(t,{className:"text-right",children:e.jsx(a,{children:e.jsxs(l,{children:[e.jsx(s,{children:e.jsx(t,{children:i.format(r.venta)})}),e.jsx(s,{children:e.jsx(t,{children:i.format(r.utili)})}),e.jsx(s,{children:e.jsx(t,{className:r.utili/r.venta*100>25?"text-green-900":"text-red-900",children:r.venta==0?"0.00 %":`${(r.utili/r.venta*100).toFixed(2)} %`})})]})})})]},r.id)):e.jsx(s,{children:e.jsx(t,{colSpan:8,className:"text-center",children:"No hay Ventas Registradas"})})})]})})]})]})}export{G as default};
