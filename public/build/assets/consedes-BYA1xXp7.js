import{r as n,j as e,L as _}from"./app-DVyAcfcu.js";import{A as b}from"./app-layout-Dfb5R3Iy.js";import{T as l,a,b as t,c as d,d as g,e as s}from"./table-BoRseBGZ.js";import{S,a as T,b as F,c as V,d as y,f as P,e as j}from"./select-Sm-l4fzG.js";import{d as C}from"./index-BhGe877w.js";import"./app-logo-icon-BkredD2s.js";import"./index-Dbj4uxN_.js";import"./index-DLp3U5Bh.js";import"./i18n-BydKRAa4.js";import"./index-Bvo6CBh1.js";const L=[{title:"Venta Diaria",href:"/ventas"}],i=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0});function B({ventas:h,almacen:o,periodos:m}){const[c,u]=n.useState(""),[x,f]=n.useState(c);n.useEffect(()=>{const r=setTimeout(()=>{f(c)},500);return()=>clearTimeout(r)},[c]),n.useEffect(()=>{x&&C.Inertia.get("/venta-sede",{periodo:x},{preserveState:!0,replace:!0})},[x]);const p=r=>{u(r)};return e.jsxs(b,{breadcrumbs:L,children:[e.jsx(_,{title:"Venta Diaria"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(S,{value:String(c),onValueChange:p,children:[e.jsx(T,{className:"w-[300px]",children:e.jsx(F,{placeholder:"Seleccione un Periodo"})}),e.jsx(V,{children:e.jsxs(y,{children:[e.jsx(P,{children:"Periodos"}),e.jsx(j,{value:"0",children:"Todos"}),m.map(r=>e.jsxs(j,{value:r.period,children:[" ",r.period," "]},r.id))]})})]})}),e.jsx("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border md:min-h-min",children:e.jsxs(l,{children:[e.jsx(a,{className:"bg-amber-200 text-blue-600",children:e.jsxs(t,{children:[e.jsx(d,{className:"text-left",children:"#"}),e.jsx(d,{colSpan:2,className:"text-center",children:"Fecha"}),o.map(r=>e.jsxs(d,{className:"text-right",children:[r.nomalm," "]},r.id)),e.jsx(d,{className:"text-right",children:"VALOR TOTAL"})]})}),e.jsx(g,{children:h.length?h.map((r,N)=>e.jsxs(t,{children:[e.jsx(s,{className:"text-left",children:++N}),e.jsx(s,{className:"text-left",children:r.fecope}),e.jsx(s,{className:"text-left",children:e.jsx(l,{children:e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(d,{className:"text-center text-red-900",children:"Venta"})}),e.jsx(t,{children:e.jsx(d,{className:"text-center  text-red-900",children:"Uttilidad"})}),e.jsx(t,{children:e.jsx(d,{className:"text-center  text-red-900",children:"Rentabilidad"})})]})})}),e.jsx(s,{className:"text-right",children:e.jsx(l,{children:e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(s,{children:i.format(r.venta_metropolis)})}),e.jsx(t,{children:e.jsx(s,{children:i.format(r.utilid_metropolis)})}),e.jsx(t,{children:e.jsxs(s,{className:r.utilid_metropolis/r.venta_metropolis*100>25?"text-green-900":"text-red-900",children:["$",(r.utilid_metropolis/r.venta_metropolis*100).toFixed(2)," %"]})})]})})}),e.jsx(s,{className:"text-right",children:e.jsx(l,{children:e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(s,{children:i.format(r.venta_distrimetro)})}),e.jsx(t,{children:e.jsx(s,{children:i.format(r.utilid_distrimetro)})}),e.jsx(t,{children:e.jsxs(s,{className:r.utilid_distrimetro/r.venta_distrimetro*100>25?"text-green-900":"text-red-900",children:["$",(r.utilid_distrimetro/r.venta_distrimetro*100).toFixed(2)," %"]})})]})})}),e.jsx(s,{className:"text-right",children:e.jsx(l,{children:e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(s,{children:i.format(r.venta_ferrecasas)})}),e.jsx(t,{children:e.jsx(s,{children:i.format(r.utilid_ferrecasas)})}),e.jsx(t,{children:e.jsxs(s,{className:r.utilid_ferrecasas/r.venta_ferrecasas*100>25?"text-green-900":"text-red-900",children:["$",(r.utilid_ferrecasas/r.venta_ferrecasas*100).toFixed(2)," %"]})})]})})}),e.jsx(s,{className:"text-right",children:e.jsx(l,{children:e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(s,{children:i.format(r.venta_troncal)})}),e.jsx(t,{children:e.jsx(s,{children:i.format(r.utilid_troncal)})}),e.jsx(t,{children:e.jsxs(s,{className:r.utilid_troncal/r.venta_troncal*100>25?"text-green-900":"text-red-900",children:["$",(r.utilid_troncal/r.venta_troncal*100).toFixed(2)," %"]})})]})})}),e.jsx(s,{className:"text-right",children:e.jsx(l,{children:e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(s,{children:i.format(r.venta_minca)})}),e.jsx(t,{children:e.jsx(s,{children:i.format(r.utilid_minca)})}),e.jsx(t,{children:e.jsxs(s,{className:r.utilid_minca/r.venta_minca*100>25?"text-green-900":"text-red-900",children:["$",(r.utilid_minca/r.venta_minca*100).toFixed(2)," %"]})})]})})}),e.jsx(s,{className:"text-right",children:e.jsx(l,{children:e.jsxs(a,{children:[e.jsx(t,{children:e.jsx(s,{children:i.format(r.venta)})}),e.jsx(t,{children:e.jsx(s,{children:i.format(r.utili)})}),e.jsx(t,{children:e.jsxs(s,{className:r.utili/r.venta*100>25?"text-green-900":"text-red-900",children:["$",(r.utili/r.venta*100).toFixed(2)," %"]})})]})})})]},r.id)):e.jsx(t,{children:e.jsx(s,{colSpan:8,className:"text-center",children:"No hay Ventas Registradas"})})})]})})]})]})}export{B as default};
