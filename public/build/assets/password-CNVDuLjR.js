import{r as s,a as x,R as le,m as Fe,j as p,L as Se}from"./app-DVyAcfcu.js";import{I as V}from"./input-error-Dwc3YXgR.js";import{A as Re}from"./app-layout-Dfb5R3Iy.js";import{S as Ae,H as $e}from"./layout-DujOffAn.js";import{B as Ne}from"./app-logo-icon-BkredD2s.js";import{I as G}from"./input-B2i8Dv7Q.js";import{L as Q}from"./label-CopAl1EH.js";import{_ as L}from"./i18n-BydKRAa4.js";import{o as E,p as ue,n as N,a as ce,s as W,K as Y,A,m as Te,t as _e,L as de,O as Pe,b as Le,u as fe}from"./render-BZoDP5vS.js";import"./index-Dbj4uxN_.js";import"./index-DLp3U5Bh.js";let He=Symbol();function pe(...e){let r=s.useRef(e);s.useEffect(()=>{r.current=e},[e]);let t=E(n=>{for(let a of r.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return e.every(n=>n==null||(n==null?void 0:n[He]))?void 0:t}function ke(e=0){let[r,t]=s.useState(e),n=s.useCallback(l=>t(l),[r]),a=s.useCallback(l=>t(c=>c|l),[r]),m=s.useCallback(l=>(r&l)===l,[r]),o=s.useCallback(l=>t(c=>c&~l),[t]),f=s.useCallback(l=>t(c=>c^l),[t]);return{flags:r,setFlag:n,addFlag:a,hasFlag:m,removeFlag:o,toggleFlag:f}}var Oe={},oe,ie;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((oe=process==null?void 0:Oe)==null?void 0:oe.NODE_ENV)==="test"&&typeof((ie=Element==null?void 0:Element.prototype)==null?void 0:ie.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Ie=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Ie||{});function De(e){let r={};for(let t in e)e[t]===!0&&(r[`data-${t}`]="");return r}function ze(e,r,t,n){let[a,m]=s.useState(t),{hasFlag:o,addFlag:f,removeFlag:l}=ke(e&&a?3:0),c=s.useRef(!1),i=s.useRef(!1),b=ue();return N(()=>{var w;if(e){if(t&&m(!0),!r){t&&f(3);return}return(w=n==null?void 0:n.start)==null||w.call(n,t),Me(r,{inFlight:c,prepare(){i.current?i.current=!1:i.current=c.current,c.current=!0,!i.current&&(t?(f(3),l(4)):(f(4),l(2)))},run(){i.current?t?(l(3),f(4)):(l(4),f(3)):t?l(1):f(1)},done(){var u;i.current&&typeof r.getAnimations=="function"&&r.getAnimations().length>0||(c.current=!1,l(7),t||m(!1),(u=n==null?void 0:n.end)==null||u.call(n,t))}})}},[e,t,r,b]),e?[a,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[t,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Me(e,{prepare:r,run:t,done:n,inFlight:a}){let m=ce();return Be(e,{prepare:r,inFlight:a}),m.nextFrame(()=>{t(),m.requestAnimationFrame(()=>{m.add(Ue(e,n))})}),m.dispose}function Ue(e,r){var t,n;let a=ce();if(!e)return a.dispose;let m=!1;a.add(()=>{m=!0});let o=(n=(t=e.getAnimations)==null?void 0:t.call(e).filter(f=>f instanceof CSSTransition))!=null?n:[];return o.length===0?(r(),a.dispose):(Promise.allSettled(o.map(f=>f.finished)).then(()=>{m||r()}),a.dispose)}function Be(e,{inFlight:r,prepare:t}){if(r!=null&&r.current){t();return}let n=e.style.transition;e.style.transition="none",t(),e.offsetHeight,e.style.transition=n}let Z=s.createContext(null);Z.displayName="OpenClosedContext";var $=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))($||{});function me(){return s.useContext(Z)}function qe({value:e,children:r}){return x.createElement(Z.Provider,{value:e},r)}function Ke(){let e=typeof document>"u";return"useSyncExternalStore"in le?(r=>r.useSyncExternalStore)(le)(()=>()=>{},()=>!1,()=>!e):!1}function ve(){let e=Ke(),[r,t]=s.useState(W.isHandoffComplete);return r&&W.isHandoffComplete===!1&&t(!1),s.useEffect(()=>{r!==!0&&t(!0)},[r]),s.useEffect(()=>W.handoff(),[]),e?!1:r}function Ve(){let e=s.useRef(!1);return N(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function he(e){var r;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((r=e.as)!=null?r:we)!==s.Fragment||x.Children.count(e.children)===1}let D=s.createContext(null);D.displayName="TransitionContext";var Ge=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Ge||{});function Qe(){let e=s.useContext(D);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function We(){let e=s.useContext(z);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let z=s.createContext(null);z.displayName="NestingContext";function M(e){return"children"in e?M(e.children):e.current.filter(({el:r})=>r.current!==null).filter(({state:r})=>r==="visible").length>0}function ge(e,r){let t=Le(e),n=s.useRef([]),a=Ve(),m=ue(),o=E((u,d=A.Hidden)=>{let h=n.current.findIndex(({el:v})=>v===u);h!==-1&&(fe(d,{[A.Unmount](){n.current.splice(h,1)},[A.Hidden](){n.current[h].state="hidden"}}),m.microTask(()=>{var v;!M(n)&&a.current&&((v=t.current)==null||v.call(t))}))}),f=E(u=>{let d=n.current.find(({el:h})=>h===u);return d?d.state!=="visible"&&(d.state="visible"):n.current.push({el:u,state:"visible"}),()=>o(u,A.Unmount)}),l=s.useRef([]),c=s.useRef(Promise.resolve()),i=s.useRef({enter:[],leave:[]}),b=E((u,d,h)=>{l.current.splice(0),r&&(r.chains.current[d]=r.chains.current[d].filter(([v])=>v!==u)),r==null||r.chains.current[d].push([u,new Promise(v=>{l.current.push(v)})]),r==null||r.chains.current[d].push([u,new Promise(v=>{Promise.all(i.current[d].map(([S,T])=>T)).then(()=>v())})]),d==="enter"?c.current=c.current.then(()=>r==null?void 0:r.wait.current).then(()=>h(d)):h(d)}),w=E((u,d,h)=>{Promise.all(i.current[d].splice(0).map(([v,S])=>S)).then(()=>{var v;(v=l.current.shift())==null||v()}).then(()=>h(d))});return s.useMemo(()=>({children:n,register:f,unregister:o,onStart:b,onStop:w,wait:c,chains:i}),[f,o,n,b,w,i,c])}let we=s.Fragment,Ce=Pe.RenderStrategy;function Xe(e,r){var t,n;let{transition:a=!0,beforeEnter:m,afterEnter:o,beforeLeave:f,afterLeave:l,enter:c,enterFrom:i,enterTo:b,entered:w,leave:u,leaveFrom:d,leaveTo:h,...v}=e,[S,T]=s.useState(null),g=s.useRef(null),j=he(e),R=pe(...j?[g,r,T]:r===null?[]:[r]),J=(t=v.unmount)==null||t?A.Unmount:A.Hidden,{show:y,appear:ee,initial:re}=Qe(),[F,U]=s.useState(y?"visible":"hidden"),te=We(),{register:H,unregister:k}=te;N(()=>H(g),[H,g]),N(()=>{if(J===A.Hidden&&g.current){if(y&&F!=="visible"){U("visible");return}return fe(F,{hidden:()=>k(g),visible:()=>H(g)})}},[F,g,H,k,y,J]);let B=ve();N(()=>{if(j&&B&&F==="visible"&&g.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[g,F,B,j]);let xe=re&&!ee,ne=ee&&y&&re,q=s.useRef(!1),O=ge(()=>{q.current||(U("hidden"),k(g))},te),se=E(K=>{q.current=!0;let I=K?"enter":"leave";O.onStart(g,I,P=>{P==="enter"?m==null||m():P==="leave"&&(f==null||f())})}),ae=E(K=>{let I=K?"enter":"leave";q.current=!1,O.onStop(g,I,P=>{P==="enter"?o==null||o():P==="leave"&&(l==null||l())}),I==="leave"&&!M(O)&&(U("hidden"),k(g))});s.useEffect(()=>{j&&a||(se(y),ae(y))},[y,j,a]);let ye=!(!a||!j||!B||xe),[,C]=ze(ye,S,y,{start:se,end:ae}),Ee=Te({ref:R,className:((n=_e(v.className,ne&&c,ne&&i,C.enter&&c,C.enter&&C.closed&&i,C.enter&&!C.closed&&b,C.leave&&u,C.leave&&!C.closed&&d,C.leave&&C.closed&&h,!C.transition&&y&&w))==null?void 0:n.trim())||void 0,...De(C)}),_=0;F==="visible"&&(_|=$.Open),F==="hidden"&&(_|=$.Closed),C.enter&&(_|=$.Opening),C.leave&&(_|=$.Closing);let je=de();return x.createElement(z.Provider,{value:O},x.createElement(qe,{value:_},je({ourProps:Ee,theirProps:v,defaultTag:we,features:Ce,visible:F==="visible",name:"Transition.Child"})))}function Ye(e,r){let{show:t,appear:n=!1,unmount:a=!0,...m}=e,o=s.useRef(null),f=he(e),l=pe(...f?[o,r]:r===null?[]:[r]);ve();let c=me();if(t===void 0&&c!==null&&(t=(c&$.Open)===$.Open),t===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[i,b]=s.useState(t?"visible":"hidden"),w=ge(()=>{t||b("hidden")}),[u,d]=s.useState(!0),h=s.useRef([t]);N(()=>{u!==!1&&h.current[h.current.length-1]!==t&&(h.current.push(t),d(!1))},[h,t]);let v=s.useMemo(()=>({show:t,appear:n,initial:u}),[t,n,u]);N(()=>{t?b("visible"):!M(w)&&o.current!==null&&b("hidden")},[t,w]);let S={unmount:a},T=E(()=>{var R;u&&d(!1),(R=e.beforeEnter)==null||R.call(e)}),g=E(()=>{var R;u&&d(!1),(R=e.beforeLeave)==null||R.call(e)}),j=de();return x.createElement(z.Provider,{value:w},x.createElement(D.Provider,{value:v},j({ourProps:{...S,as:s.Fragment,children:x.createElement(be,{ref:l,...S,...m,beforeEnter:T,beforeLeave:g})},theirProps:{},defaultTag:s.Fragment,features:Ce,visible:i==="visible",name:"Transition"})))}function Ze(e,r){let t=s.useContext(D)!==null,n=me()!==null;return x.createElement(x.Fragment,null,!t&&n?x.createElement(X,{ref:r,...e}):x.createElement(be,{ref:r,...e}))}let X=Y(Ye),be=Y(Xe),Je=Y(Ze),er=Object.assign(X,{Child:Je,Root:X});const rr=[{title:"Configurar Contraseña",href:"/settings/password"}];function pr(){const e=s.useRef(null),r=s.useRef(null),{data:t,setData:n,errors:a,put:m,reset:o,processing:f,recentlySuccessful:l}=Fe({current_password:"",password:"",password_confirmation:""}),c=i=>{i.preventDefault(),m(route("password.update"),{preserveScroll:!0,onSuccess:()=>o(),onError:b=>{var w,u;b.password&&(o("password","password_confirmation"),(w=e.current)==null||w.focus()),b.current_password&&(o("current_password"),(u=r.current)==null||u.focus())}})};return p.jsxs(Re,{breadcrumbs:rr,children:[p.jsx(Se,{title:"Perfil"}),p.jsx(Ae,{children:p.jsxs("div",{className:"space-y-6",children:[p.jsx($e,{title:"Actualizar Contraseña",description:"Asegúrese de que su cuenta utilice una contraseña larga y aleatoria para mantener la seguridad"}),p.jsxs("form",{onSubmit:c,className:"space-y-6",children:[p.jsxs("div",{className:"grid gap-2",children:[p.jsx(Q,{htmlFor:"current_password",children:L("Contraseña Actual")}),p.jsx(G,{id:"current_password",ref:r,value:t.current_password,onChange:i=>n("current_password",i.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"current-password",placeholder:"Ingrese su Contraseña"}),p.jsx(V,{message:a.current_password})]}),p.jsxs("div",{className:"grid gap-2",children:[p.jsx(Q,{htmlFor:"password",children:L("Nueva Contraseña")}),p.jsx(G,{id:"password",ref:e,value:t.password,onChange:i=>n("password",i.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"new-password",placeholder:"Ingrese su nueva Contraseña"}),p.jsx(V,{message:a.password})]}),p.jsxs("div",{className:"grid gap-2",children:[p.jsx(Q,{htmlFor:"password_confirmation",children:L("Confirme la Contraseña")}),p.jsx(G,{id:"password_confirmation",value:t.password_confirmation,onChange:i=>n("password_confirmation",i.target.value),type:"password",className:"mt-1 block w-full",autoComplete:"new-password",placeholder:"Escriba Nuevamente la Contraseña"}),p.jsx(V,{message:a.password_confirmation})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(Ne,{disabled:f,children:L("Actualizar Contraseña")}),p.jsx(er,{show:l,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:p.jsx("p",{className:"text-sm text-neutral-600",children:L("Contraseña Actualizada")})})]})]})]})})]})}export{pr as default};
