import{r as l,j as e,L as f}from"./app-BezMx6Yg.js";import{A as b}from"./app-layout-CcYk1XwA.js";import{T as g,a as N,b as d,c as a,d as S,e as r}from"./table-D8UFsDB7.js";import{S as v,a as T,b as C,c as V,d as y,f as P,e as o}from"./select-3sYlDCOF.js";import{d as D}from"./index-N9Wo3_AG.js";import{C as E,a as w,b as L,c as R}from"./card-3JRr_yf8.js";import"./app-logo-icon-tjY2ApU_.js";import"./vadiher-CxvhmT4V.js";import"./index-BVbG2WsP.js";import"./index-Bv9mkpsH.js";import"./i18n-BydKRAa4.js";import"./index-Dw4rBN8m.js";const F=[{title:"Venta Diaria",href:"/ventas"}],c=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0});function J({ventas:n,ventastotal:x,periodos:m}){const[t,h]=l.useState(""),[i,j]=l.useState(t);l.useEffect(()=>{const s=setTimeout(()=>{j(t)},500);return()=>clearTimeout(s)},[t]),l.useEffect(()=>{i&&D.Inertia.get("/ventas-vendedor",{periodo:i},{preserveState:!0,replace:!0})},[i]);const p=s=>{h(s)};return e.jsxs(b,{breadcrumbs:F,children:[e.jsx(f,{title:"Venta Diaria"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(v,{value:String(t),onValueChange:p,children:[e.jsx(T,{className:"w-[300px]",children:e.jsx(C,{placeholder:"Seleccione un Periodo"})}),e.jsx(V,{children:e.jsxs(y,{children:[e.jsx(P,{children:"Periodos"}),e.jsx(o,{value:"0",children:"Todos"}),m.map(s=>e.jsxs(o,{value:s.period,children:[" ",s.period," "]},s.id))]})})]})}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:x.map(s=>e.jsx("div",{className:"col-span-1",children:e.jsx(E,{children:e.jsxs(w,{children:[e.jsxs(L,{children:[" ",s.nomalm]}),e.jsxs(R,{children:[e.jsx("strong",{children:"Valor Venta: "}),c.format(s.venta)]})]})})}))}),e.jsx("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border md:min-h-min",children:e.jsxs(g,{children:[e.jsx(N,{className:"bg-amber-200 text-blue-600",children:e.jsxs(d,{children:[e.jsx(a,{className:"text-left",children:"#"}),e.jsx(a,{className:"text-left",children:"Bodega"}),e.jsx(a,{className:"text-left",children:"Vendedor"}),e.jsx(a,{className:"text-right",children:"Valor"}),e.jsx(a,{className:"text-right",children:"Utilidad"}),e.jsx(a,{className:"text-right",children:"Rentabilidad"})]})}),e.jsx(S,{children:n.length?n.map((s,u)=>e.jsxs(d,{children:[e.jsx(r,{className:"text-left",children:++u}),e.jsx(r,{className:"text-left",children:s.nomalm}),e.jsx(r,{className:"text-left",children:s.nomven}),e.jsxs(r,{className:"text-right",children:[c.format(s.venta)," "]}),e.jsxs(r,{className:"text-right",children:[c.format(s.utili)," "]}),e.jsxs(r,{className:"text-right",children:["$",(s.utili/s.venta*100).toFixed(2)," %"]})]},s.id)):e.jsx(d,{children:e.jsx(r,{colSpan:8,className:"text-center",children:"No hay Ventas Registradas"})})})]})})]})]})}export{J as default};
