import{r as l,j as e,L as p}from"./app-DVyAcfcu.js";import{A as f}from"./app-layout-Dfb5R3Iy.js";import{T as N,a as b,b as n,c as r,d as S,e as s}from"./table-BoRseBGZ.js";import{S as g,a as T,b as C,c as w,d as V,e as o}from"./select-Sm-l4fzG.js";import{d as y}from"./index-BhGe877w.js";import"./app-logo-icon-BkredD2s.js";import"./index-Dbj4uxN_.js";import"./index-DLp3U5Bh.js";import"./i18n-BydKRAa4.js";import"./index-Bvo6CBh1.js";const v=[{title:"Venta Diaria",href:"/ventas"}],a=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0});function H({ventas:d,periodos:x}){const[c,m]=l.useState(""),[i,h]=l.useState(c);l.useEffect(()=>{const t=setTimeout(()=>{h(c)},500);return()=>clearTimeout(t)},[c]),l.useEffect(()=>{i&&y.Inertia.get("/ventas",{periodo:i},{preserveState:!0,replace:!0})},[i]);const j=t=>{m(t)};return e.jsxs(f,{breadcrumbs:v,children:[e.jsx(p,{title:"Venta Diaria"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(g,{value:String(c),onValueChange:j,children:[e.jsx(T,{className:"w-[300px]",children:e.jsx(C,{placeholder:"Seleccione un Periodo"})}),e.jsx(w,{children:e.jsxs(V,{children:[e.jsx(o,{value:"0",children:"Todos"}),x.map(t=>e.jsxs(o,{value:String(t.period),children:[" ",t.period," "]},t.id))]})})]})}),e.jsx("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border md:min-h-min",children:e.jsxs(N,{children:[e.jsx(b,{className:"bg-amber-200 text-blue-600",children:e.jsxs(n,{children:[e.jsx(r,{className:"w-[100px]",children:"#"}),e.jsx(r,{className:"w-[100px]",children:"Fecha"}),e.jsx(r,{className:"text-center",children:"contado"}),e.jsx(r,{className:"text-center",children:"Credito"}),e.jsx(r,{className:"text-center",children:"Vr. Total"}),e.jsx(r,{className:"text-center",children:"U.Contado"}),e.jsx(r,{className:"text-center",children:"U.Credito"}),e.jsx(r,{className:"text-center",children:"Vr Utilidad"}),e.jsx(r,{className:"text-center",children:"Rentabilidad"})]})}),e.jsx(S,{children:d.length?d.map((t,u)=>e.jsxs(n,{children:[e.jsx(s,{className:"w-[100px]",children:++u}),e.jsx(s,{className:"w-[100px]",children:t.fecope}),e.jsx(s,{className:"text-center",children:a.format(t.venta_contado)}),e.jsx(s,{className:"text-center",children:a.format(t.venta_credito)}),e.jsx(s,{className:"text-center",children:a.format(t.venta)}),e.jsx(s,{className:"text-center",children:a.format(t.utilidad_contado)}),e.jsx(s,{className:"text-center",children:a.format(t.utilidad_credito)}),e.jsx(s,{className:"text-center",children:a.format(t.utili)}),e.jsxs(s,{className:"text-center",children:["$",(t.utili/t.venta*100).toFixed(2)," %"]})]},t.id)):e.jsx(n,{children:e.jsx(s,{colSpan:8,className:"text-center",children:"No hay Ventas Registradas"})})})]})})]})]})}export{H as default};
