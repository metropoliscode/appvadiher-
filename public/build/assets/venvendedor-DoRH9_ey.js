import{r as l,j as e,L as f}from"./app-DsQe7yeZ.js";import{A as b}from"./app-layout-38iwENLA.js";import{T as g,a as N,b as c,c as a,d as S,e as r}from"./table-DJEUI5pS.js";import{S as v,a as T,b as C,c as V,d as y,f as P,e as o}from"./select-BII_GZf6.js";import{d as D}from"./index-Z141aMLF.js";import{C as E,a as w,b as L,c as R}from"./card-DVkDoBq-.js";import"./app-logo-icon-9VVcwR0l.js";import"./vadiher-CxvhmT4V.js";import"./index-D2i6oil-.js";import"./index-CsNHGqYZ.js";import"./i18n-BydKRAa4.js";import"./index-C_lt8Y5X.js";const F=[{title:"Venta Diaria",href:"/ventas"}],i=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0});function J({ventas:n,ventastotal:x,periodos:m}){const[t,h]=l.useState(""),[d,j]=l.useState(t);l.useEffect(()=>{const s=setTimeout(()=>{j(t)},500);return()=>clearTimeout(s)},[t]),l.useEffect(()=>{d&&D.Inertia.get("/ventas-vendedor",{periodo:d},{preserveState:!0,replace:!0})},[d]);const p=s=>{h(s)};return e.jsxs(b,{breadcrumbs:F,children:[e.jsx(f,{title:"Venta Diaria"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(v,{value:String(t),onValueChange:p,children:[e.jsx(T,{className:"w-[300px]",children:e.jsx(C,{placeholder:"Seleccione un Periodo"})}),e.jsx(V,{children:e.jsxs(y,{children:[e.jsx(P,{children:"Periodos"}),e.jsx(o,{value:"0",children:"Todos"}),m.map(s=>e.jsxs(o,{value:s.period,children:[" ",s.period," "]},s.id))]})})]})}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:x.map(s=>e.jsx("div",{className:"col-span-1",children:e.jsx(E,{children:e.jsxs(w,{children:[e.jsxs(L,{children:[" ",s.nomalm]}),e.jsxs(R,{children:[e.jsx("strong",{children:"Valor Venta: "}),i.format(s.venta)," | ",e.jsx("strong",{children:"Valor Utilidad: "}),i.format(s.utili)]})]})})}))}),e.jsx("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border md:min-h-min",children:e.jsxs(g,{children:[e.jsx(N,{className:"bg-amber-200 text-blue-600",children:e.jsxs(c,{children:[e.jsx(a,{className:"text-left",children:"#"}),e.jsx(a,{className:"text-left",children:"Bodega"}),e.jsx(a,{className:"text-left",children:"Vendedor"}),e.jsx(a,{className:"text-right",children:"Valor"}),e.jsx(a,{className:"text-right",children:"Utilidad"}),e.jsx(a,{className:"text-right",children:"Rentabilidad"})]})}),e.jsx(S,{children:n.length?n.map((s,u)=>e.jsxs(c,{children:[e.jsx(r,{className:"text-left",children:++u}),e.jsx(r,{className:"text-left",children:s.nomalm}),e.jsx(r,{className:"text-left",children:s.nomven}),e.jsxs(r,{className:"text-right",children:[i.format(s.venta)," "]}),e.jsxs(r,{className:"text-right",children:[i.format(s.utili)," "]}),e.jsxs(r,{className:"text-right",children:["$",(s.utili/s.venta*100).toFixed(2)," %"]})]},s.id)):e.jsx(c,{children:e.jsx(r,{colSpan:8,className:"text-center",children:"No hay Ventas Registradas"})})})]})})]})]})}export{J as default};
