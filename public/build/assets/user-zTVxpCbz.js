import{a as q,r as c,j as a,L as Y}from"./app-D72zc2ey.js";import{d as F}from"./index-Bj7KqtPx.js";import{A as X}from"./app-layout-CDHelcQf.js";import{T as J,a as Q,b as N,c as w,d as Z,e as x}from"./table-DmXKD1np.js";import{s as ee,p as te,o as I,K as re,_ as ne,L as oe}from"./render-1gHI7yjV.js";import"./app-logo-icon-Ctu-Yr0f.js";import"./vadiher-CxvhmT4V.js";import"./index-DmICZ0EY.js";import"./index-DQG_bZ-R.js";import"./i18n-BydKRAa4.js";const W=typeof document<"u"?q.useLayoutEffect:()=>{};function ae(e){const r=c.useRef(null);return W(()=>{r.current=e},[e]),c.useCallback((...t)=>{const n=r.current;return n==null?void 0:n(...t)},[])}const k=e=>{var r;return(r=e==null?void 0:e.ownerDocument)!==null&&r!==void 0?r:document},y=e=>e&&"window"in e&&e.window===e?e:k(e).defaultView||window;function se(e){var r;return typeof window>"u"||window.navigator==null?!1:((r=window.navigator.userAgentData)===null||r===void 0?void 0:r.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent)}function ie(e){var r;return typeof window<"u"&&window.navigator!=null?e.test(((r=window.navigator.userAgentData)===null||r===void 0?void 0:r.platform)||window.navigator.platform):!1}function B(e){let r=null;return()=>(r==null&&(r=e()),r)}const ue=B(function(){return ie(/^Mac/i)}),le=B(function(){return se(/Android/i)});function ce(e){return e.mozInputSource===0&&e.isTrusted?!0:le()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class de{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(r,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=r}}function _(e){let r=c.useRef({isFocused:!1,observer:null});W(()=>{const n=r.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let t=ae(n=>{e==null||e(n)});return c.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){r.current.isFocused=!0;let o=n.target,s=d=>{r.current.isFocused=!1,o.disabled&&t(new de("blur",d)),r.current.observer&&(r.current.observer.disconnect(),r.current.observer=null)};o.addEventListener("focusout",s,{once:!0}),r.current.observer=new MutationObserver(()=>{if(r.current.isFocused&&o.disabled){var d;(d=r.current.observer)===null||d===void 0||d.disconnect();let i=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:i})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:i}))}}),r.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[t])}function fe(e){let{isDisabled:r,onFocus:t,onBlur:n,onFocusChange:o}=e;const s=c.useCallback(u=>{if(u.target===u.currentTarget)return n&&n(u),o&&o(!1),!0},[n,o]),d=_(s),i=c.useCallback(u=>{const p=k(u.target);u.target===u.currentTarget&&p.activeElement===u.target&&(t&&t(u),o&&o(!0),d(u))},[o,t,d]);return{focusProps:{onFocus:!r&&(t||o||n)?i:void 0,onBlur:!r&&(n||o)?s:void 0}}}let T=null,C=new Set,E=new Map,$=!1,H=!1;const pe={Tab:!0,Escape:!0};function D(e,r){for(let t of C)t(e,r)}function be(e){return!(e.metaKey||!ue()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function j(e){$=!0,be(e)&&(T="keyboard",D("keyboard",e))}function m(e){T="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&($=!0,D("pointer",e))}function U(e){ce(e)&&($=!0,T="virtual")}function z(e){e.target===window||e.target===document||(!$&&!H&&(T="virtual",D("virtual",e)),$=!1,H=!1)}function R(){$=!1,H=!0}function S(e){if(typeof window>"u"||E.get(y(e)))return;const r=y(e),t=k(e);let n=r.HTMLElement.prototype.focus;r.HTMLElement.prototype.focus=function(){$=!0,n.apply(this,arguments)},t.addEventListener("keydown",j,!0),t.addEventListener("keyup",j,!0),t.addEventListener("click",U,!0),r.addEventListener("focus",z,!0),r.addEventListener("blur",R,!1),typeof PointerEvent<"u"?(t.addEventListener("pointerdown",m,!0),t.addEventListener("pointermove",m,!0),t.addEventListener("pointerup",m,!0)):(t.addEventListener("mousedown",m,!0),t.addEventListener("mousemove",m,!0),t.addEventListener("mouseup",m,!0)),r.addEventListener("beforeunload",()=>{K(e)},{once:!0}),E.set(r,{focus:n})}const K=(e,r)=>{const t=y(e),n=k(e);r&&n.removeEventListener("DOMContentLoaded",r),E.has(t)&&(t.HTMLElement.prototype.focus=E.get(t).focus,n.removeEventListener("keydown",j,!0),n.removeEventListener("keyup",j,!0),n.removeEventListener("click",U,!0),t.removeEventListener("focus",z,!0),t.removeEventListener("blur",R,!1),typeof PointerEvent<"u"?(n.removeEventListener("pointerdown",m,!0),n.removeEventListener("pointermove",m,!0),n.removeEventListener("pointerup",m,!0)):(n.removeEventListener("mousedown",m,!0),n.removeEventListener("mousemove",m,!0),n.removeEventListener("mouseup",m,!0)),E.delete(t))};function ve(e){const r=k(e);let t;return r.readyState!=="loading"?S(e):(t=()=>{S(e)},r.addEventListener("DOMContentLoaded",t)),()=>K(e,t)}typeof document<"u"&&ve();function V(){return T!=="pointer"}const me=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ge(e,r,t){var n;const o=typeof window<"u"?y(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?y(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,d=typeof window<"u"?y(t==null?void 0:t.target).HTMLElement:HTMLElement,i=typeof window<"u"?y(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return e=e||(t==null?void 0:t.target)instanceof o&&!me.has(t==null||(n=t.target)===null||n===void 0?void 0:n.type)||(t==null?void 0:t.target)instanceof s||(t==null?void 0:t.target)instanceof d&&(t==null?void 0:t.target.isContentEditable),!(e&&r==="keyboard"&&t instanceof i&&!pe[t.key])}function he(e,r,t){S(),c.useEffect(()=>{let n=(o,s)=>{ge(!!(t!=null&&t.isTextInput),o,s)&&e(V())};return C.add(n),()=>{C.delete(n)}},r)}function xe(e){let{isDisabled:r,onBlurWithin:t,onFocusWithin:n,onFocusWithinChange:o}=e,s=c.useRef({isFocusWithin:!1}),d=c.useCallback(p=>{s.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(s.current.isFocusWithin=!1,t&&t(p),o&&o(!1))},[t,o,s]),i=_(d),u=c.useCallback(p=>{!s.current.isFocusWithin&&document.activeElement===p.target&&(n&&n(p),o&&o(!0),s.current.isFocusWithin=!0,i(p))},[n,o,i]);return r?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:d}}}let L=!1,P=0;function M(){L=!0,setTimeout(()=>{L=!1},50)}function A(e){e.pointerType==="touch"&&M()}function ye(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",A):document.addEventListener("touchend",M),P++,()=>{P--,!(P>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",A):document.removeEventListener("touchend",M))}}function $e(e){let{onHoverStart:r,onHoverChange:t,onHoverEnd:n,isDisabled:o}=e,[s,d]=c.useState(!1),i=c.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;c.useEffect(ye,[]);let{hoverProps:u,triggerHoverEnd:p}=c.useMemo(()=>{let g=(l,f)=>{if(i.pointerType=f,o||f==="touch"||i.isHovered||!l.currentTarget.contains(l.target))return;i.isHovered=!0;let h=l.currentTarget;i.target=h,r&&r({type:"hoverstart",target:h,pointerType:f}),t&&t(!0),d(!0)},b=(l,f)=>{if(i.pointerType="",i.target=null,f==="touch"||!i.isHovered)return;i.isHovered=!1;let h=l.currentTarget;n&&n({type:"hoverend",target:h,pointerType:f}),t&&t(!1),d(!1)},v={};return typeof PointerEvent<"u"?(v.onPointerEnter=l=>{L&&l.pointerType==="mouse"||g(l,l.pointerType)},v.onPointerLeave=l=>{!o&&l.currentTarget.contains(l.target)&&b(l,l.pointerType)}):(v.onTouchStart=()=>{i.ignoreEmulatedMouseEvents=!0},v.onMouseEnter=l=>{!i.ignoreEmulatedMouseEvents&&!L&&g(l,"mouse"),i.ignoreEmulatedMouseEvents=!1},v.onMouseLeave=l=>{!o&&l.currentTarget.contains(l.target)&&b(l,"mouse")}),{hoverProps:v,triggerHoverEnd:b}},[r,t,n,o,i]);return c.useEffect(()=>{o&&p({currentTarget:i.target},i.pointerType)},[o]),{hoverProps:u,isHovered:s}}function we(e={}){let{autoFocus:r=!1,isTextInput:t,within:n}=e,o=c.useRef({isFocused:!1,isFocusVisible:r||V()}),[s,d]=c.useState(!1),[i,u]=c.useState(()=>o.current.isFocused&&o.current.isFocusVisible),p=c.useCallback(()=>u(o.current.isFocused&&o.current.isFocusVisible),[]),g=c.useCallback(l=>{o.current.isFocused=l,d(l),p()},[p]);he(l=>{o.current.isFocusVisible=l,p()},[],{isTextInput:t});let{focusProps:b}=fe({isDisabled:n,onFocusChange:g}),{focusWithinProps:v}=xe({isDisabled:!n,onFocusWithinChange:g});return{isFocused:s,isFocusVisible:i,focusProps:n?v:b}}function Ee(e){return ee.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function ke(e){let r=e.width/2,t=e.height/2;return{top:e.clientY-t,right:e.clientX+r,bottom:e.clientY+t,left:e.clientX-r}}function Te(e,r){return!(!e||!r||e.right<r.left||e.left>r.right||e.bottom<r.top||e.top>r.bottom)}function je({disabled:e=!1}={}){let r=c.useRef(null),[t,n]=c.useState(!1),o=te(),s=I(()=>{r.current=null,n(!1),o.dispose()}),d=I(i=>{if(o.dispose(),r.current===null){r.current=i.currentTarget,n(!0);{let u=Ee(i.currentTarget);o.addEventListener(u,"pointerup",s,!1),o.addEventListener(u,"pointermove",p=>{if(r.current){let g=ke(p);n(Te(g,r.current.getBoundingClientRect()))}},!1),o.addEventListener(u,"pointercancel",s,!1)}}});return{pressed:t,pressProps:e?{}:{onPointerDown:d,onPointerUp:s,onClick:s}}}let Le=c.createContext(void 0);function Fe(){return c.useContext(Le)}let Ne="button";function Pe(e,r){var t;let n=Fe(),{disabled:o=n||!1,autoFocus:s=!1,...d}=e,{isFocusVisible:i,focusProps:u}=we({autoFocus:s}),{isHovered:p,hoverProps:g}=$e({isDisabled:o}),{pressed:b,pressProps:v}=je({disabled:o}),l=ne({ref:r,type:(t=d.type)!=null?t:"button",disabled:o||void 0,autoFocus:s},u,g,v),f=c.useMemo(()=>({disabled:o,hover:p,focus:i,active:b,autofocus:s}),[o,p,i,b,s]);return oe()({ourProps:l,theirProps:d,slot:f,defaultTag:Ne,name:"Button"})}let Ce=re(Pe);const He=[{title:"Usuarios",href:"/usuarios"}],Re=({users:e})=>{const[r,t]=c.useState(!1),[n,o]=c.useState(!1),[s,d]=c.useState({id:"",code:"",name:"",email:"",password:""}),[i,u]=c.useState(null),p=f=>{f?(o(!0),d(f)):(o(!1),d({id:"",code:"",name:"",email:"",password:""})),t(!0)},g=()=>t(!1),b=f=>{const{name:h,value:O}=f.target;d(G=>({...G,[h]:O}))},v=f=>{f.preventDefault(),n?F.Inertia.put(`/users/${s.id}`,s).then(()=>{u({type:"success",message:"Usuario actualizado correctamente"}),t(!1)}).catch(()=>{u({type:"danger",message:"Error al actualizar el usuario"})}):F.Inertia.post("/users",s).then(()=>{u({type:"success",message:"Usuario agregado correctamente"}),t(!1)}).catch(()=>{u({type:"danger",message:"Error al agregar el usuario"})})},l=f=>{F.Inertia.delete(`/users/${f}`).then(()=>{u({type:"success",message:"Usuario eliminado correctamente"})}).catch(()=>{u({type:"danger",message:"Error al eliminar el usuario"})})};return a.jsxs(X,{breadcrumbs:He,children:[a.jsx(Y,{title:"Almacenes"}),a.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[a.jsx("div",{className:"flex justify-end",children:a.jsx(Ce,{onClick:()=>p(),className:"mt-4 w-full bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded",tabIndex:4,children:"Agregar Usuario"})}),i&&a.jsxs("div",{className:`alert alert-${i.type} p-4 rounded mb-4`,role:"alert",children:[a.jsx("span",{className:"font-semibold",children:i.message}),a.jsx("button",{onClick:()=>u(null),className:"ml-2 text-xl",children:"×"})]}),a.jsx("div",{className:`modal ${r?"block":"hidden"}`,children:a.jsx("div",{className:"border-b border-gray-900/10 pb-2",children:a.jsxs("form",{onSubmit:v,children:[a.jsx("h3",{className:"text-center",children:n?"Editar Usuario":"Agregar Usuario"}),a.jsxs("div",{className:"grid grid-cols-5 gap-x-2 gap-y-2 sm:grid-cols-5",children:[a.jsx("div",{className:"sm:col-span-1",children:a.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[a.jsx("input",{value:s.code,onChange:b,type:"text",name:"floating_code",id:"floating_code",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0}),a.jsx("label",{className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Usuario"})]})}),a.jsx("div",{className:"sm:col-span-1",children:a.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[a.jsx("input",{value:s.name,onChange:b,type:"text",name:"floating_email",id:"floating_email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0}),a.jsx("label",{className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Nombre"})]})}),a.jsx("div",{className:"sm:col-span-1",children:a.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[a.jsx("input",{value:s.email,onChange:b,type:"text",name:"floating_email",id:"floating_email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0}),a.jsx("label",{className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Correo"})]})}),a.jsx("div",{className:"sm:col-span-1",children:a.jsxs("div",{className:"relative z-0 w-full mb-5 group",children:[a.jsx("input",{value:s.password,onChange:b,type:"text",name:"floating_email",id:"floating_email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" "}),a.jsx("label",{className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Contraseña"})]})}),a.jsx("div",{className:"sm:col-span-1",children:a.jsxs("div",{className:"inline-flex rounded-md shadow-xs items-end",role:"group",children:[a.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-s-lg hover:bg-green-600 hover:text-gray-100 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-800 dark:border-gray-700 dark:text-white dark:hover:text-white dark:hover:bg-green-700 dark:focus:ring-blue-500 dark:focus:text-white",children:n?"Actualizar":"Guardar"}),a.jsx("button",{onClick:g,type:"button",className:"px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-e-lg hover:bg-red-500 hover:text-gray-100 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-800 dark:border-gray-700 dark:text-white dark:hover:text-white dark:hover:bg-red-500 dark:focus:ring-blue-500 dark:focus:text-white",children:"Cerrar"})]})})]})]})})}),a.jsx("div",{className:"border-sidebar-border/70 dark:border-sidebar-border relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border md:min-h-min",children:a.jsxs(J,{children:[a.jsx(Q,{className:"bg-amber-200 text-blue-600",children:a.jsxs(N,{children:[a.jsx(w,{className:"w-[100px]",children:"#"}),a.jsx(w,{className:"text-center",children:"Usuario"}),a.jsx(w,{className:"text-center",children:"Nombre"}),a.jsx(w,{className:"text-right",children:"Correo"}),a.jsx(w,{className:"text-right",children:"Estado"}),a.jsx(w,{className:"text-right",children:"Acciones"})]})}),a.jsx(Z,{children:e.length?e.map((f,h)=>a.jsxs(N,{onDoubleClick:()=>p(f),children:[a.jsx(x,{className:"w-[100px]",children:++h}),a.jsx(x,{className:"text-center",children:f.code}),a.jsx(x,{className:"text-center",children:f.name}),a.jsx(x,{className:"text-right",children:f.email}),a.jsx(x,{className:"text-right",children:f.state}),a.jsx(x,{className:"text-right",children:a.jsx("button",{className:"bg-red-500 text-white px-3 py-1 rounded",onClick:()=>l(f.id),children:"Eliminar"})})]},f.id)):a.jsx(N,{children:a.jsx(x,{colSpan:5,className:"text-center",children:"No hay Sedes Registradas"})})})]})})]})]})};export{Re as default};
